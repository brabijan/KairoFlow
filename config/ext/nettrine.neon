# Extension > Nettrine (Doctrine ORM for Nette)
#
extensions:
	nettrine.annotations: Nettrine\Annotations\DI\AnnotationsExtension
	nettrine.cache: Nettrine\Cache\DI\CacheExtension
	nettrine.migrations: Nettrine\Migrations\DI\MigrationsExtension
	nettrine.fixtures: Nettrine\Fixtures\DI\FixturesExtension

	# DBAL
	nettrine.dbal: Nettrine\DBAL\DI\DbalExtension
	nettrine.dbal.console: Nettrine\DBAL\DI\DbalConsoleExtension(%consoleMode%)

	# ORM
	nettrine.orm: Nettrine\ORM\DI\OrmExtension
	nettrine.orm.cache: Nettrine\ORM\DI\OrmCacheExtension
	nettrine.orm.console: Nettrine\ORM\DI\OrmConsoleExtension(%consoleMode%)
	# nettrine.orm.annotations: Nettrine\ORM\DI\OrmAnnotationsExtension  # Temporarily disabled

# Database connection configuration
nettrine.dbal:
	debug:
		panel: %debugMode%
	connection:
		driver: pdo_pgsql
		host: %database.host%
		user: %database.user%
		password: %database.password%
		dbname: %database.name%
		port: %database.port%
		charset: utf8
		serverVersion: 14.0

# ORM configuration
nettrine.orm:
	configuration:
		autoGenerateProxyClasses: %debugMode%
		proxyDir: %tempDir%/proxies

# Annotations cache
nettrine.annotations:
	cache: @nettrine.cache.adapter

# Entity mapping (temporarily disabled)
# nettrine.orm.annotations:
# 	mapping:
# 		App\Entity: %appDir%/Entity

# Migrations configuration
nettrine.migrations:
	table: doctrine_migrations
	column: version
	directory: %appDir%/../migrations
	namespace: Database\Migrations
	versionsOrganization: null

# Fixtures configuration
nettrine.fixtures:
	paths:
		- %appDir%/../fixtures