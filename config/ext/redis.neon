# Extension > Redis
#
extensions:
	redis: Contributte\Redis\DI\RedisExtension

# Redis configuration
redis:
	connection:
		default:
			uri: 'tcp://%redis.host%:%redis.port%'
			options:
				password: %redis.password%
				database: 0
				timeout: 3.0
			
	# Optional: Multiple connections
	# connection:
	# 	cache:
	# 		host: %redis.host%
	# 		port: %redis.port%
	# 		database: 1
	# 	sessions:
	# 		host: %redis.host%
	# 		port: %redis.port%
	# 		database: 2

services:
	# Register Redis client as a service
	redis.client: @redis.connection.default.client
	
	# Use Redis for Nette cache storage (using the connection's default client which implements Predis\ClientInterface)
	cache.storage: Contributte\Redis\Caching\RedisStorage(@redis.connection.default.client)